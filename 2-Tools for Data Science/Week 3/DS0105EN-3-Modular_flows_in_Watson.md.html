<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://skills-network-assets.s3.us.cloud-object-storage.appdomain.cloud/styles/sn.css">
  </head>
  <body>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/IDSNlogo.png" width="200" height="200">
    <h3>LAB: Modeler Flows in IBM Watson Studio (Updated)</h3>
    <p>For this lab, you will use the IBM Cloud Account and the Watson Studio project you created when you worked on the Lab in the previous lesson titled <em>Creating a Watson Studio Project with Jupyter Notebooks</em>. To create a free Watson Studio account, use the following link <a href="https://cloud.ibm.com/catalog/services/watson-studio?cm_mmc=Email_Newsletter-_-Developer_Ed%2BTech-_-WW_WW-_-SkillsNetwork-Courses-IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork-20083975&#x26;cm_mmca1=000026UJ&#x26;cm_mmca2=10006555&#x26;cm_mmca3=M12345678&#x26;cvosrc=email.Newsletter.M12345678&#x26;cvo_campaign=000026UJ&#x26;cm_mmc=Email_Newsletter-_-Developer_Ed%2BTech-_-WW_WW-_-SkillsNetwork-Courses-IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork-20083975&#x26;cm_mmca1=000026UJ&#x26;cm_mmca2=10006555&#x26;cm_mmca3=M12345678&#x26;cvosrc=email.Newsletter.M12345678&#x26;cvo_campaign=000026UJ&#x26;cm_mmc=Email_Newsletter-_-Developer_Ed%2BTech-_-WW_WW-_-SkillsNetwork-Courses-IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork-20083975&#x26;cm_mmca1=000026UJ&#x26;cm_mmca2=10006555&#x26;cm_mmca3=M12345678&#x26;cvosrc=email.Newsletter.M12345678&#x26;cvo_campaign=000026UJ&#x26;cm_mmc=Email_Newsletter-_-Developer_Ed%2BTech-_-WW_WW-_-SkillsNetwork-Courses-IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork-20083975&#x26;cm_mmca1=000026UJ&#x26;cm_mmca2=10006555&#x26;cm_mmca3=M12345678&#x26;cvosrc=email.Newsletter.M12345678&#x26;cvo_campaign=000026UJ" target="_blank" rel="external">https://cloud.ibm.com/catalog/services/watson-studio</a></p>
    <p>Objective for Exercise:</p>
    <ul>
      <li>Load an example flow, run it, and examine results.</li>
      <li>Add an Auto Numeric model, run it, and examine results.</li>
      <li>Get predictions for new cases using a model we built.</li>
    </ul>
    <p><strong>Step 1</strong> - Open your project in Watson Studio, then click "Add Assets" by clicking the blue button on the top of the screen. In the panel that appears, select the "Modeler flow" option.</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image1.png" width="600">
    <p><strong>Step 2</strong> - Next, select the tab "From example":</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image2.png" width="600">
    <p><strong>Step 3</strong> - Selecting the Drug study example on the left would give us the flow we have already seen in the previous section, so let's pick the one on the right - Sales Promotion study, then click "Create" button in the lower right corner.</p>
    <p>Once the flow loads, you will see this:</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image3.png" width="600">
    <p><strong>Step 4</strong> - Reading from left to right, we can examine the flow. The purple circle corresponds to the data set of some fictional sales, the next node is deriving a field Increase that will be our target variable. It is based on the increase of sales. Then we see a type node which specifies our target variable and predictors. In this case our target variable is numeric and continuous. Finally, there are two models - a neural network and a C&#x26;RT decision tree. We can run the flow as is, or we can modify it to see other possibilities.</p>
    <p><strong>Step 5</strong> - First, let's see what we can get with the existing models. Press the triangular <strong>Run</strong> button on the top of the canvas:</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image4.png" width="600">
    <p><strong>Step 6</strong> - After some execution time, you'll get dark gold model nuggets for the two models. Clicking on three dots in the right side of one of them you can select "View model" and examine the information.</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image5.png" width="600">
    <p>For example, the neural network diagram looks like this:</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image6.png" width="600">
    <p>And the decision tree looks like this:</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image7.png" width="600">
    <p><strong>Step 7</strong> - Now, let's add the "Auto-numeric" model to the flow. Open the modeling palette on the left side by clicking on Modeling:</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image8.png" width="600">
    <p><strong>Step 8</strong> - In the resulting modeling palette, pick the Auto-Numeric model:</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image9.png" width="600">
    <p><strong>Step 9</strong> - Click on the Auto Numeric node and while keeping the left mouse button pressed, drag it onto the canvas.</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image10.png" width="600">
    <p><strong>Step 10</strong> - Now, hover over the type node with your mouse and click on the circle with an arrow that appears on the right side. Make a connection to the dot on the left side of the Auto Numeric node.</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image11.png" width="600">
    <p><strong>Step 11</strong> - Finally, run the new branch of the flow by clicking on the three dots on the upper right part of Auto Numeric node and selecting the last option in the menu, "Run".</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image12.png" width="600">
    <p><strong>Step 12</strong> - After the execution ends, we get a model nugget:</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image13.png" width="600">
    <p>and viewing the model, we see the following table:</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image14.png" width="600">
    <p><strong>This tells us that five different models have been built, and also some properties of the models.</strong></p>
    <p>
      XGBost is a very popular model, representing gradient-boosted ensemble of decision trees. The algorithm was discovered relatively recently and has been used in many solutions and winning data science competitions. In this case, it created a model with the highest accuracy, which "won" as well.
      "C&#x26;RT" stands for Classification and Regression Tree", a decision tree algorithm that is widely used. This is the same decision tree we saw earlier when we built it separately.
      "LE" is "linear engine", an IBM implementation of linear regression model that includes automatic interaction detection. The model coefficients are shown in <strong>Parameter Estimates</strong> table. We can see that several coefficients correspond to a combination of one category of variable <em>class</em> with continuous variable <em>Promotion</em>. This is called "an interaction effect". You will not see such features in simple linear regression models.
    </p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image15.png" width="600">
    <p>Next, in the table of models was CHAID. It is another algorithm for building decision trees. The acronym CHAID stands for Chi-squared Automatic Interaction Detector. It is one of the oldest tree classification methods originally proposed by Gordon Kass in 1980. Clicking on the algorithm name we can see the details of the that model. Most decision tree algorithms (including C&#x26;RT) build binary trees, i.e. trees where each node has either zero or two children. <strong>CHAID</strong> is different, it produces trees with multiple children for some nodes. Such trees can be not so deep but very wide. We see an example here. The root node has four children, with the split based on class variable. Each child node has three or four children of its own, all split based on Promotion. So essentially, we have an interaction of Class and Promotion in this model as well.</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image16.png" width="600">
    <p>Finally, the last model built by the Auto Numeric node is "MLP Neural Network", it is the same neural network as in the original stream. "MLP" stands for "multi-layer perceptron", a name used for the fully connected feed-forward neural networks popular in the 1990's.</p>
    <p><strong>Step 13</strong> - How can we use a model we built to get predictions for new data (or perhaps the data we already used)? In Modeler flows it only requires a few steps.</p>
    <p>Create a data source node for the new data, attach a type node, connect that to the model nugget, and add a "table" node after the model nugget. In our example we will just get predictions for the original data using the C&#x26;RT model, so we open the "Output" group on the node palette, drag the "Table" node and add the connection to it from the model nugget:</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image17.png" width="600">
    <p><strong>Step 14</strong> - Now run that new branch, and get a table node on the right:</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image18.png" width="600">
    <p>Double-clicking on that node we can see the data with added new column <strong>$R-Increase</strong> (containing predictions):</p>
    <img src="https://cf-courses-data.s3.us.cloud-object-storage.appdomain.cloud/IBMDeveloperSkillsNetwork-DS0105EN-SkillsNetwork/labs/Module3/images/DS0105EN_Lab2_Image19.png" width="600">
    <p><strong>Step 15</strong> - Now you can experiment with Modeler flows on your own. You can use various nodes, just don't forget to put a Type node before any modeling node.</p>
    <p>Some other possible models that can be used to predict a continuous target are: Genlin, GLMM, LSVM, Regression, KNN, XGBoost Linear. If your data has a categorical target, you may want to try Auto Classifier, as well as C5, C&#x26;RT, CHAID, Logistic Regression, SVM, Neural Networks, and many other models.</p>
    <p>You will learn more about various models when you take a course on Machine Learning.</p>
    <h2>Author(s)</h2>
    <h4>Joseph Santarcangelo</h4>
    <h4></h4>
    <h2>Changelog</h2>
    <table>
      <thead>
        <tr>
          <th>Date</th>
          <th>Version</th>
          <th>Changed by</th>
          <th>Change Description</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>2020-08-25</td>
          <td>2.0</td>
          <td>Lavanya</td>
          <td>Migrated Lab to Markdown and added to course repo in GitLab</td>
        </tr>
      </tbody>
    </table>
    <h2></h2>
    <h3 align="center">© IBM Corporation 2020. All rights reserved.</h3>
    <h3></h3>
    <script>window.addEventListener('load', function() {
snFaculty.inject();
});</script>
    <script src="https://skills-network-assets.s3.us.cloud-object-storage.appdomain.cloud/scripts/inject.min.js"></script>
  </body>
</html>
